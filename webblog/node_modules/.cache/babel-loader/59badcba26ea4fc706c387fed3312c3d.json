{"ast":null,"code":"export const loginAction = (email, password) => {\n  return dispatch => {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    };\n    return fetch(`/users/authenticate`, requestOptions).then(handleResponse).then(user => {\n      // store user details and jwt token in local storage to keep user logged in between page refreshes\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      return user;\n    }).then(user => {\n      dispatch(success(user));\n      history.push(\"/\");\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Bonaws/React/React_Js/first_collab/webblog/src/redux/action/loginAction.js"],"names":["loginAction","email","password","dispatch","requestOptions","method","headers","body","JSON","stringify","username","fetch","then","handleResponse","user","localStorage","setItem","success","history","push"],"mappings":"AAAA,OAAO,MAAMA,WAAW,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC9C,SAAOC,QAAQ,IAAI;AACjB,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFY;AAGrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,QAAF;AAAYR,QAAAA;AAAZ,OAAf;AAHe,KAAvB;AAMA,WAAOS,KAAK,CAAE,qBAAF,EAAwBP,cAAxB,CAAL,CACJQ,IADI,CACCC,cADD,EAEJD,IAFI,CAECE,IAAI,IAAI;AACZ;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACC,SAAL,CAAeK,IAAf,CAA7B;AAEA,aAAOA,IAAP;AACD,KAPI,EAQJF,IARI,CAQCE,IAAI,IAAI;AACZX,MAAAA,QAAQ,CAACc,OAAO,CAACH,IAAD,CAAR,CAAR;AACAI,MAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD,KAXI,CAAP;AAYD,GAnBD;AAoBD,CArBM","sourcesContent":["export const loginAction = (email, password) => {\r\n  return dispatch => {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username, password })\r\n    };\r\n\r\n    return fetch(`/users/authenticate`, requestOptions)\r\n      .then(handleResponse)\r\n      .then(user => {\r\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n        localStorage.setItem(\"user\", JSON.stringify(user));\r\n\r\n        return user;\r\n      })\r\n      .then(user => {\r\n        dispatch(success(user));\r\n        history.push(\"/\");\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}