{"ast":null,"code":"import history from \"../_helper/history\";\nimport { userServices } from \"../_services\"; // const isEmpty = obj => {\n//   Object.keys(obj).length === 0 && obj.constructor === Object;\n//   return null;\n// };\n\nfunction isEmpty(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) return false;\n  }\n\n  return true;\n}\n\nexport const login = (email, password) => {\n  return dispatch => {\n    dispatch({\n      type: \"USER_LOGIN_REQUEST\"\n    });\n    userServices.login(email, password).then(user => {\n      if (isEmpty(user)) {\n        dispatch({\n          type: \"USER_LOGIN_FAILURE\"\n        });\n        history.push(\"/login\");\n      } else {\n        dispatch({\n          type: \"USER_LOGIN_SUCCESS\",\n          user\n        });\n        history.push(\"/admin\");\n      }\n    }, error => {\n      dispatch({\n        type: \"USER_LOGIN_FAILURE\"\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Bonaws/React/React_Js/first_collab/webblog/src/_action/login.js"],"names":["history","userServices","isEmpty","obj","key","hasOwnProperty","login","email","password","dispatch","type","then","user","push","error"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,SAASC,YAAT,QAA6B,cAA7B,C,CAEA;AACA;AACA;AACA;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACpB,OAAK,IAAIC,GAAT,IAAgBD,GAAhB,EAAqB;AACnB,QAAIA,GAAG,CAACE,cAAJ,CAAmBD,GAAnB,CAAJ,EAA6B,OAAO,KAAP;AAC9B;;AACD,SAAO,IAAP;AACD;;AAED,OAAO,MAAME,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACxC,SAAOC,QAAQ,IAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAD,CAAR;AAEAT,IAAAA,YAAY,CAACK,KAAb,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoCG,IAApC,CACEC,IAAI,IAAI;AACN,UAAIV,OAAO,CAACU,IAAD,CAAX,EAAmB;AACjBH,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAR;AACAV,QAAAA,OAAO,CAACa,IAAR,CAAa,QAAb;AACD,OAHD,MAGO;AACLJ,QAAAA,QAAQ,CAAC;AAAEC,UAAAA,IAAI,EAAE,oBAAR;AAA8BE,UAAAA;AAA9B,SAAD,CAAR;AACAZ,QAAAA,OAAO,CAACa,IAAR,CAAa,QAAb;AACD;AACF,KATH,EAUEC,KAAK,IAAI;AACPL,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAAD,CAAR;AACD,KAZH;AAcD,GAjBD;AAkBD,CAnBM","sourcesContent":["import history from \"../_helper/history\";\r\nimport { userServices } from \"../_services\";\r\n\r\n// const isEmpty = obj => {\r\n//   Object.keys(obj).length === 0 && obj.constructor === Object;\r\n//   return null;\r\n// };\r\n\r\nfunction isEmpty(obj) {\r\n  for (var key in obj) {\r\n    if (obj.hasOwnProperty(key)) return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport const login = (email, password) => {\r\n  return dispatch => {\r\n    dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n\r\n    userServices.login(email, password).then(\r\n      user => {\r\n        if (isEmpty(user)) {\r\n          dispatch({ type: \"USER_LOGIN_FAILURE\" });\r\n          history.push(\"/login\");\r\n        } else {\r\n          dispatch({ type: \"USER_LOGIN_SUCCESS\", user });\r\n          history.push(\"/admin\");\r\n        }\r\n      },\r\n      error => {\r\n        dispatch({ type: \"USER_LOGIN_FAILURE\" });\r\n      }\r\n    );\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}