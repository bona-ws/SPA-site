{"ast":null,"code":"import history from \"../_helper/history\";\nexport const login = (email, password) => {\n  return dispatch => {\n    const requestOptions = {\n      method: \"POST\",\n      // headers: { \"Content-Type\": \"application/json\" },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    };\n    return fetch(\"http://localhost:9000/login/\", requestOptions).then(handleResponse).then(user => {\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      return user;\n    }).then(user => {\n      user && // const user = { email, password };\n      dispatch({\n        type: \"USER_LOGIN_SUCCESS\",\n        user\n      });\n      history.push(\"/\");\n    }, error => {\n      console.log(error);\n    }); // const user = { email, password };\n    // dispatch({ type: \"USER_LOGIN_SUCCESS\", user });\n    // localStorage.setItem(\"user\", JSON.stringify(user));\n    // history.push(\"/admin\");\n  };\n};","map":{"version":3,"sources":["C:/Users/Bonaws/React/React_Js/first_collab/webblog/src/_action/login.js"],"names":["history","login","email","password","dispatch","requestOptions","method","headers","body","JSON","stringify","fetch","then","handleResponse","user","localStorage","setItem","type","push","error","console","log"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,oBAApB;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AACxC,SAAOC,QAAQ,IAAI;AACjB,UAAMC,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,MADa;AAErB;AACAC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAHY;AAIrBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAAf;AAJe,KAAvB;AAMA,WAAOQ,KAAK,CAAC,8BAAD,EAAiCN,cAAjC,CAAL,CACJO,IADI,CACCC,cADD,EAEJD,IAFI,CAECE,IAAI,IAAI;AACZC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BP,IAAI,CAACC,SAAL,CAAeI,IAAf,CAA7B;AACA,aAAOA,IAAP;AACD,KALI,EAMJF,IANI,CAOHE,IAAI,IAAI;AACNA,MAAAA,IAAI,IACF;AACAV,MAAAA,QAAQ,CAAC;AAAEa,QAAAA,IAAI,EAAE,oBAAR;AAA8BH,QAAAA;AAA9B,OAAD,CAFV;AAGAd,MAAAA,OAAO,CAACkB,IAAR,CAAa,GAAb;AACD,KAZE,EAaHC,KAAK,IAAI;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAfE,CAAP,CAPiB,CAwBjB;AACA;AACA;AACA;AACD,GA5BD;AA6BD,CA9BM","sourcesContent":["import history from \"../_helper/history\";\r\n\r\nexport const login = (email, password) => {\r\n  return dispatch => {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      // headers: { \"Content-Type\": \"application/json\" },\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: JSON.stringify({ email, password })\r\n    };\r\n    return fetch(\"http://localhost:9000/login/\", requestOptions)\r\n      .then(handleResponse)\r\n      .then(user => {\r\n        localStorage.setItem(\"user\", JSON.stringify(user));\r\n        return user;\r\n      })\r\n      .then(\r\n        user => {\r\n          user &&\r\n            // const user = { email, password };\r\n            dispatch({ type: \"USER_LOGIN_SUCCESS\", user });\r\n          history.push(\"/\");\r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    // const user = { email, password };\r\n    // dispatch({ type: \"USER_LOGIN_SUCCESS\", user });\r\n    // localStorage.setItem(\"user\", JSON.stringify(user));\r\n    // history.push(\"/admin\");\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}